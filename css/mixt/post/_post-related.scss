
// Related Posts Styling

.post-related {
	$max-height: 200px;
	$gutter: $margin-m;

	.title { margin-bottom: 0; }
	
	.post {
		float: left;
		overflow: hidden;
		position: relative;
		min-height: 30px;
		max-height: $max-height;
	}

	.title + div:not(.related-inner),
	.related-inner .post { margin-top: $gutter; }

	.related-inner {
		margin-left: $gutter / -2;
		margin-right: $gutter / -2;

		@extend %clearfix;

		.post {
			width: 33.333%;
			padding-left: $gutter / 2;
			padding-right: $gutter / 2;
		}
	}

	* { border-color: inherit; }

	.post-feat {
		width: 100%;
		max-width: 100%;
		min-height: 140px;
		max-height: $max-height;
		float: none;
		margin: 0;
		align-items: flex-end;

		> a { height: 100%; }

		img {
			display: block;
			height: 100%;
		}
	}
	.post-video > div,
	.post-video > iframe { min-width: 0; }

	.feat-format {
		box-shadow: inset 0 0 4px rgba(0,0,0,0.07);
		i {
			margin-top: -26px; // Correction for the title
		}
	}

	.related-title,
	.related-title-tip {
		position: absolute;
		left: 0; right: 0; bottom: 0;
	}
	.related-inner {
		.related-title,
		.related-title-tip { left: $gutter / 2; right: $gutter / 2; }
	}

	.related-title {
		margin: 0; padding: 6px 10px;
		font-weight: bold;
		font-size: 12px;
		border-radius: 0 0 $bd-radius $bd-radius;
		background-color: rgba(0,0,0,0.3);
		vertical-align: middle;
		text-shadow: 0 1px 1px rgba(0,0,0,0.4);
	}

	.related-title-tip {
		top: 0;
		opacity: 0; z-index: -1;
	}

	// Columns
	.related-2-col .post,
	.related-4-col .post { width: 50%; }

	@include media('screen', '<mars') {
		.post { max-height: 100px; }
		.post-feat { min-height: 100px; max-height: 100px; }
		.related-title { display: none; }
		.related-title-tip { z-index: 1; }
		.feat-format i { margin-top: -16px; }
	}

	@include media('screen', '<mercury') {
		.related-inner {
			.post { max-height: 70px; }
			.post-feat { min-height: 70px; max-height: 70px; }
		}
	}
}